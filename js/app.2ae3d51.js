(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[0],{0:function(e,r,t){e.exports=t("LzkT")},"A0++":function(e,r,t){"use strict";var n=t("TOJS"),o=t.n(n);o.a},Hl11:function(e,r,t){},LzkT:function(e,r,t){"use strict";t.r(r);var n={};t.r(n),t.d(n,"currentRoom",function(){return Y}),t.d(n,"decks",function(){return Z}),t.d(n,"players",function(){return ee}),t.d(n,"blackCardCount",function(){return re}),t.d(n,"whiteCardCount",function(){return te});var o={};t.r(o),t.d(o,"setCurrentRoom",function(){return oe}),t.d(o,"setDecks",function(){return ae}),t.d(o,"setPlayers",function(){return ue});var a={};t.r(a),t.d(a,"createRoom",function(){return pe}),t.d(a,"loadRoom",function(){return me}),t.d(a,"listenToDecks",function(){return he}),t.d(a,"listenToPlayers",function(){return ye}),t.d(a,"unlistenToDecks",function(){return we}),t.d(a,"unlistenToPlayers",function(){return ke}),t.d(a,"addDeck",function(){return Ue}),t.d(a,"removeDeck",function(){return Ie}),t.d(a,"addPlayer",function(){return Ce}),t.d(a,"removePlayer",function(){return Te});var u={};t.r(u),t.d(u,"currentUser",function(){return Oe}),t.d(u,"roomId",function(){return Ne});var s={};t.r(s),t.d(s,"setCurrentUser",function(){return He}),t.d(s,"setRoomId",function(){return Je});var i={};t.r(i),t.d(i,"connect",function(){return qe}),t.d(i,"disconnect",function(){return We}),t.d(i,"listenToRoomId",function(){return De}),t.d(i,"unlistenToRoomId",function(){return ze}),t.d(i,"joinRoom",function(){return Ke}),t.d(i,"leaveRoom",function(){return Be});t("rGqo"),t("oRQL"),t("0UuB"),t("Hl11"),t("fm0S");var c=t("Kw5r"),l=t("6E/o"),p=t("cFFF"),f=t("IEC1"),m=t("zxLP"),d=t("Rqni"),h=t("MqH6"),v=t("7r/T"),y=t("8wy3"),R=t("zmdN"),w=t("SC7v"),g=t("UrUt"),k=t("EYBb"),b=t("HlXa"),U=t("UG+o"),x=t("uNnR"),I=t("fUOT"),Q=t("lUGP"),C=t("XYut"),P=t("6eVZ"),T=t("HJMa"),S=t("vJud"),$=t("S/Rk"),L=t("dkar"),O=t("ZYCo"),N=t("OggR"),H=t("3CNK"),J=t("MFSH"),q=t("bduK"),A=t("k/Uo"),W=t("RIeW"),j=t("FSbK"),D=t("Ezub");c["a"].use(l["a"],{config:{},components:{QLayout:p["a"],QLayoutHeader:f["a"],QLayoutDrawer:m["a"],QPageContainer:d["a"],QPage:h["a"],QPageSticky:v["a"],QToolbar:y["a"],QToolbarTitle:R["a"],QBtn:w["a"],QIcon:g["a"],QList:k["a"],QListHeader:b["a"],QItem:U["a"],QItemMain:x["a"],QItemSide:I["a"],QItemTile:Q["a"],QInput:C["a"],QPagination:P["a"],QRating:T["a"],QToggle:S["a"],QChip:$["a"],QCard:L["a"],QCardTitle:O["a"],QCardMain:N["a"],QCardMedia:H["a"],QCardSeparator:J["a"],QCardActions:q["a"],QScrollArea:A["a"],QLayoutFooter:W["a"]},directives:{Ripple:j["a"]},plugins:{Notify:D["a"]}});var G=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"bg-tertiary",attrs:{id:"q-app"}},[t("router-view")],1)},z=[];G._withStripped=!0;t("pIFo");t("6nsN"),t("Zs65"),t("5x/H"),t("dB9c"),t("iTTW");var E=t("iqUP"),K={name:"App",created:function(){var e={apiKey:"AIzaSyCBa6JNHVRaw6zLj9oVmUVJm0G_qjQWSOQ",authDomain:"lesonestbof.firebaseapp.com",databaseURL:"https://lesonestbof.firebaseio.com",projectId:"lesonestbof",storageBucket:"lesonestbof.appspot.com",messagingSenderId:"710579650390"};E.initializeApp(e);var r=this;E.auth().onAuthStateChanged(function(e){null===e?r.$store.dispatch("currentUser/unlistenToRoomId").then(function(){r.$store.dispatch("currentUser/disconnect")}):r.$store.dispatch("currentUser/connect",e).then(function(){r.$store.dispatch("currentUser/listenToRoomId")})})},data:function(){return{}},computed:{currentUser:function(){return this.$store.getters["currentUser/currentUser"]},roomId:function(){return this.$store.getters["currentUser/roomId"]},currentRoom:function(){return this.$store.getters["root/currentRoom"]}},watch:{roomId:function(e,r){var t=this;e!==r&&(null===e?(this.$store.dispatch("root/removePlayer",{player:this.currentUser,roomId:r}),this.$store.commit("root/setCurrentRoom",null),this.$router.replace("/")):this.$store.dispatch("root/loadRoom",e).then(function(){null!==t.currentRoom?(t.$store.dispatch("root/addPlayer",{player:t.currentUser,roomId:e}),t.$router.replace("/room")):t.$store.dispatch("currentUser/leaveRoom")}))}}},V=K,B=(t("A0++"),t("KHd+")),F=Object(B["a"])(V,G,z,!1,null,null,null),M=F.exports,_=t("L2JU"),X={currentRoom:null,players:null};t("xfY5"),t("yt8O"),t("RW0V");function Y(e){return e.currentRoom}function Z(e){return null===e.currentRoom?{}:e.currentRoom.hasOwnProperty("decks")&&null!==e.currentRoom.decks?e.currentRoom.decks:{}}function ee(e){return console.log("players",e.currentRoom.players),null===e.currentRoom.players?{}:e.currentRoom.players}function re(e){for(var r=0,t=Z(e),n=Object.keys(t),o=0;o<n.length;o++)r+=Number(t[n[o]].call_count);return r}function te(e){for(var r=0,t=Z(e),n=Object.keys(t),o=0;o<n.length;o++)r+=Number(t[n[o]].response_count);return r}t("KKXr");var ne={setWithPath:function(e,r,t){var n=r.split("/");if(!(n.length<=0)){for(var o=e,a=null,u=null,s=0;s<n.length-1;s++){if(!o.hasOwnProperty(n[s])){u=n[s],a={};for(var i=s+1;i<n.length-1;i++)a[n[i]]={};break}o=o[n[s]]}a&&u?(a[n[n.length-1]]=t,c["a"].set(o,u,a)):c["a"].set(o,n[n.length-1],t)}}};function oe(e,r){ne.setWithPath(e,"currentRoom",r)}function ae(e,r){ne.setWithPath(e,"currentRoom/decks",r)}function ue(e,r){ne.setWithPath(e,"currentRoom/players",r)}t("ls82"),t("f3/d");var se=t("yXPU"),ie=t.n(se),ce=t("iqUP"),le=t.n(ce);function pe(e,r){return fe.apply(this,arguments)}function fe(){return fe=ie()(regeneratorRuntime.mark(function e(r,t){var n,o,a,u;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.name,o=le.a.database().ref("rooms"),a={name:n,players:{}},e.next=5,o.push(a).once("value");case 5:return u=e.sent,e.abrupt("return",u.key);case 7:case"end":return e.stop()}},e,this)})),fe.apply(this,arguments)}function me(e,r){return de.apply(this,arguments)}function de(){return de=ie()(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,le.a.database().ref("rooms/"+t).once("value");case 2:n=e.sent,r.commit("setCurrentRoom",n.val());case 4:case"end":return e.stop()}},e,this)})),de.apply(this,arguments)}function he(e,r){return ve.apply(this,arguments)}function ve(){return ve=ie()(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=le.a.database().ref("rooms/"+t+"/decks"),e.next=3,n.on("value",function(e){r.commit("setDecks",e.val())});case 3:case"end":return e.stop()}},e,this)})),ve.apply(this,arguments)}function ye(e,r){return Re.apply(this,arguments)}function Re(){return Re=ie()(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:n=le.a.database().ref("rooms/"+t+"/players"),n.on("value",function(){var e=ie()(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.commit("setPlayers",t.val());case 1:case"end":return e.stop()}},e,this)}));return function(r){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}},e,this)})),Re.apply(this,arguments)}function we(e,r){return ge.apply(this,arguments)}function ge(){return ge=ie()(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=le.a.database().ref("rooms/"+t+"/decks"),e.next=3,n.off("value");case 3:case"end":return e.stop()}},e,this)})),ge.apply(this,arguments)}function ke(e,r){return be.apply(this,arguments)}function be(){return be=ie()(regeneratorRuntime.mark(function e(r,t){var n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=le.a.database().ref("rooms/"+t+"/players"),e.next=3,n.off("value");case 3:case"end":return e.stop()}},e,this)})),be.apply(this,arguments)}function Ue(e,r){return xe.apply(this,arguments)}function xe(){return xe=ie()(regeneratorRuntime.mark(function e(r,t){var n,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.roomId,o=t.deck,a=le.a.database().ref("rooms/"+n+"/decks/"+o.code),e.next=4,a.set(o);case 4:case"end":return e.stop()}},e,this)})),xe.apply(this,arguments)}function Ie(e,r){return Qe.apply(this,arguments)}function Qe(){return Qe=ie()(regeneratorRuntime.mark(function e(r,t){var n,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.roomId,o=t.deck,a=le.a.database().ref("rooms/"+n+"/decks/"+o.code),e.next=4,a.remove();case 4:case"end":return e.stop()}},e,this)})),Qe.apply(this,arguments)}function Ce(e,r){return Pe.apply(this,arguments)}function Pe(){return Pe=ie()(regeneratorRuntime.mark(function e(r,t){var n,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.player,o=t.roomId,a=le.a.database().ref("rooms/"+o+"/players/"+n.id),e.next=4,a.set(n);case 4:case"end":return e.stop()}},e,this)})),Pe.apply(this,arguments)}function Te(e,r){return Se.apply(this,arguments)}function Se(){return Se=ie()(regeneratorRuntime.mark(function e(r,t){var n,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=t.player,o=t.roomId,a=le.a.database().ref("rooms/"+o+"/players/"+n.id),e.next=4,a.remove();case 4:case"end":return e.stop()}},e,this)})),Se.apply(this,arguments)}var $e={namespaced:!0,state:X,getters:n,mutations:o,actions:a},Le={currentUser:null};function Oe(e){return e.currentUser}function Ne(e){return null===e.currentUser?null:e.currentUser.hasOwnProperty("roomId")?e.currentUser.roomId:null}function He(e,r){console.log("setCurrentUser",r),ne.setWithPath(e,"currentUser",r)}function Je(e,r){console.log("setRoomId",r),ne.setWithPath(e,"currentUser/roomId",r)}t("91GP");function qe(e,r){return Ae.apply(this,arguments)}function Ae(){return Ae=ie()(regeneratorRuntime.mark(function e(r,t){var n,o,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={id:t.uid,isAnonymous:t.isAnonymous,photoURL:t.photoURL,displayName:t.displayName},e.next=3,le.a.database().ref("users/"+t.uid).once("value");case 3:if(o=e.sent,null!==o.val()){e.next=10;break}return e.next=7,le.a.database().ref("users/"+t.uid).set(n);case 7:r.commit("setCurrentUser",n),e.next=14;break;case 10:return a=Object.assign(n,o.val()),e.next=13,le.a.database().ref("users/"+t.uid).set(a);case 13:r.commit("setCurrentUser",a);case 14:case"end":return e.stop()}},e,this)})),Ae.apply(this,arguments)}function We(e){return je.apply(this,arguments)}function je(){return je=ie()(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.commit("setCurrentUser",null);case 1:case"end":return e.stop()}},e,this)})),je.apply(this,arguments)}function De(e){return Ge.apply(this,arguments)}function Ge(){return Ge=ie()(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:le.a.database().ref("users/"+r.getters["currentUser"].id+"/roomId").on("value",function(e){r.commit("setRoomId",e.val())});case 1:case"end":return e.stop()}},e,this)})),Ge.apply(this,arguments)}function ze(e){return Ee.apply(this,arguments)}function Ee(){return Ee=ie()(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:le.a.database().ref("users/"+r.getters["currentUser"].id+"/roomId").off("value"),r.commit("setRoomId",null);case 2:case"end":return e.stop()}},e,this)})),Ee.apply(this,arguments)}function Ke(e,r){return Ve.apply(this,arguments)}function Ve(){return Ve=ie()(regeneratorRuntime.mark(function e(r,t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,le.a.database().ref("users/"+r.getters["currentUser"].id+"/roomId").set(t);case 2:r.commit("setRoomId",t);case 3:case"end":return e.stop()}},e,this)})),Ve.apply(this,arguments)}function Be(e){return Fe.apply(this,arguments)}function Fe(){return Fe=ie()(regeneratorRuntime.mark(function e(r){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,le.a.database().ref("users/"+r.getters["currentUser"].id+"/roomId").remove();case 2:r.commit("setRoomId",null);case 3:case"end":return e.stop()}},e,this)})),Fe.apply(this,arguments)}var Me={namespaced:!0,state:Le,getters:u,mutations:s,actions:i};c["a"].use(_["a"]);var _e=null,Xe=function(){return null===_e&&(_e=new _["a"].Store({modules:{root:$e,currentUser:Me}})),_e},Ye=t("jE9Z"),Ze=function(e,r,t){null!==Xe().getters["currentUser/currentUser"]?t():t("/")},er=[{path:"/",component:function(){return t.e(1).then(t.bind(null,"iyQ6"))}},{path:"/room",component:function(){return t.e(2).then(t.bind(null,"mgPm"))},beforeEnter:Ze}];er.push({path:"*",component:function(){return t.e(3).then(t.bind(null,"5R6h"))}});var rr=er;c["a"].use(Ye["a"]);var tr=function(){var e=new Ye["a"]({scrollBehavior:function(){return{y:0}},routes:rr,mode:"hash",base:""});return e},nr=function(){var e="function"===typeof Xe?Xe():Xe,r="function"===typeof tr?tr({store:e}):tr;e.$router=r;var t={el:"#q-app",router:r,store:e,render:function(e){return e(M)}};return{app:t,store:e,router:r}},or=t("qSUR"),ar={NewGame:"New Game",JoinGame:"Join Game"},ur={"en-us":ar},sr=function(e){var r=e.app,t=e.Vue;t.use(or["a"]),r.i18n=new or["a"]({locale:"en-us",fallbackLocale:"en-us",messages:ur})},ir=t("vDqi"),cr=t.n(ir),lr=function(e){var r=e.Vue;r.prototype.$axios=cr.a},pr=nr(),fr=pr.app,mr=pr.store,dr=pr.router;[sr,lr].forEach(function(e){e({app:fr,router:dr,store:mr,Vue:c["a"],ssrContext:null})}),new c["a"](fr)},TOJS:function(e,r,t){},fm0S:function(e,r,t){}},[[0,5,4]]]);